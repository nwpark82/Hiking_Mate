# 하이킹메이트 (HikingMate) - 프로젝트 개요

## 📋 프로젝트 정보

### 기본 정보
- **프로젝트명**: 하이킹메이트 (HikingMate)
- **버전**: MVP v1.0
- **개발 기간**: Phase 1(6-8주) → Phase 2(3-4개월) → Phase 3(2-3개월)
- **플랫폼**: 모바일 웹 (PWA)
- **목표**: 등산로 정보 + 커뮤니티 + 개인 기록 + AI 안전 가이드 통합 플랫폼

### 프로젝트 목적
1. **정보 제공**: 한국등산트레킹지원센터 공공데이터 기반 등산로 정보 제공
2. **커뮤니티**: 등산 애호가들의 경험 공유 및 소통 공간
3. **개인 기록**: GPS 기반 산행 기록 및 통계 관리
4. **안전 시스템**: 실시간 위치 공유 및 SOS 기능 (Phase 2)
5. **AI 가이드**: 개인화된 등산 추천 및 안전 가이드 (Phase 3)
6. **수익화**: 광고 + 프리미엄 구독 기반 지속 가능한 서비스 운영

---

## 🎯 Phase별 개발 계획

## Phase 1: MVP (6-8주) - 기본 기능

### ✅ 포함 기능

#### 1. 등산로 정보 포털
- 전국 등산로 데이터베이스
- 지역/난이도/테마별 검색
- 상세 정보 (거리, 시간, 고도, 난이도)
- 지도 시각화 (Kakao Map)
- 건강효과, 볼거리, 문화자원 정보
- 즐겨찾기

#### 2. 개인 산행 기록
- GPS 기반 실시간 트래킹
- 경로 자동 기록 (IndexedDB)
- 사진 첨부 (Supabase Storage)
- 개인 메모
- 통계 대시보드 (총 거리, 완등 산 수, 레벨)
- 기록 목록 관리

#### 3. 커뮤니티
- 게시판 시스템 (자유, 산별, 장비, 후기)
- 글쓰기/수정/삭제
- 이미지 업로드 (최대 4장)
- 댓글 시스템
- 좋아요
- 사용자 프로필

#### 4. 모임 게시판
- 등산 모임 공고
- 일정, 장소, 난이도 정보
- 댓글로 참가 의사 소통
- 외부 링크 공유 (오픈카톡 등)

### 📦 Phase 1 배포 환경
```
Frontend: Vercel (무료)
Backend: Supabase (무료)
  - PostgreSQL (500MB)
  - Auth
  - Storage (1GB)
  - Realtime

지도: Kakao Map API (무료, 일 30만건)

총 비용: $0/월
```

### ⚠️ Phase 1에서 제외 (법적/기술적 이유)
- 실시간 위치 공유 → Phase 2
- SOS/긴급 연락 → Phase 2
- 자동 알림 시스템 → Phase 2
- AI 챗봇/추천 → Phase 3

---

## Phase 2: 실시간 & 안전 기능 (3-4개월)

### 🚀 추가 기능

#### 1. 실시간 위치 공유 (WebSocket)
**기능**
- 동행자 간 실시간 위치 공유
- 그룹 트래킹 지도
- 거리/시간 계산
- 위치 공유 ON/OFF 제어

**구현 방식**
- Railway WebSocket 서버
- Redis로 위치 데이터 임시 저장
- 그룹 코드 기반 연결
- 5초마다 위치 업데이트

**개인정보 보호**
- 명시적 동의 후에만 공유
- 산행 종료 시 자동 삭제
- 기록 저장하지 않음

#### 2. SOS 및 긴급 연락 시스템
**기능**
- SOS 버튼 (3초 길게 누르기)
- 긴급 연락처 자동 문자 발송
- 현재 위치 GPS 좌표 전송
- 최근 이동 경로 공유

**안전장치**
- 119 직접 연동 ❌ (법적 책임 회피)
- 사용자 지정 연락처로만 전송
- 오발송 방지 (3초 홀드 + 확인 팝업)
- 면책 조항 명시

#### 3. 자동 알림 시스템
**기능**
- 산행 시작 시 일몰 시간 알림
- 설정 시간 도달 시 하산 권고
- 날씨 악화 알림 (기상청 API)
- 산행 중 일정 시간마다 체크인 알림

**구현 방식**
- Firebase Cloud Messaging (FCM)
- Supabase Edge Functions (cron)
- 날씨 API: 기상청 공공데이터

#### 4. 오프라인 지도 (프리미엄 기능)
- 등산로 지도 다운로드
- 오프라인 GPS 트래킹
- IndexedDB 저장 (최대 3개 지도)

### 📦 Phase 2 배포 환경
```
기존 Phase 1 인프라 +

WebSocket 서버: Railway
  - Node.js WebSocket 서버
  - Redis (위치 데이터 캐싱)
  - 비용: $5/월 (Starter)

푸시 알림: Firebase
  - Cloud Messaging (FCM) - 무료
  - Cloud Functions - $25/월 예상

Redis: Upstash 또는 Railway
  - 비용: $10/월

날씨 API: 기상청 공공데이터 (무료)

총 추가 비용: 약 $40-50/월
총 비용: $40-50/월
```

### 🎯 Phase 2 목표 지표
- DAU: 500명
- MAU: 2,500명
- 실시간 위치 공유 사용: 월 200건
- SOS 버튼 테스트: 월 50건
- 광고 수익: 월 50만원
- 프리미엄 구독: 50명 (월 19.5만원)

---

## Phase 3: AI & 개인화 (2-3개월)

### 🤖 추가 기능

#### 1. AI 등산 가이드 챗봇
**기능**
- 자연어로 등산 질문 응답
  - "초보자도 갈 수 있는 서울 근교 산은?"
  - "관악산 등산 준비물은?"
  - "겨울 산행 시 주의사항은?"
- 개인화된 등산로 추천
- 날씨/계절 고려한 조언
- 응급 상황 대처법 안내

**구현 방식**
- OpenAI GPT-4 Turbo API
- Pinecone Vector DB (RAG)
- 등산로 정보 + 커뮤니티 게시글 임베딩
- 컨텍스트 기반 응답

#### 2. RAG 기반 지식 베이스
**데이터 소스**
- 전국 등산로 정보 (공공데이터)
- 커뮤니티 후기 게시글
- 등산 안전 가이드 문서
- 계절별/지역별 팁

**임베딩 전략**
- 등산로별로 청크 분할
- 메타데이터 (지역, 난이도, 계절) 포함
- 주기적 업데이트 (주 1회)

#### 3. 개인화 추천 시스템
**기능**
- 사용자 산행 기록 분석
- 선호 난이도/거리/지역 학습
- 새로운 등산로 추천
- 도전 과제 제안

**알고리즘**
- 협업 필터링 (유사 사용자 기반)
- 컨텐츠 기반 필터링 (등산로 특성)
- 하이브리드 방식

#### 4. 이미지 분석 (추가 기능)
- 등산로 사진 업로드 → AI가 장소 추정
- 식물/동물 식별
- 위험 요소 감지 (낙석, 위험 구간)

### 📦 Phase 3 배포 환경
```
기존 Phase 1 + 2 인프라 +

AI 서비스:
  - OpenAI API: $100/월 (예상)
    * GPT-4 Turbo: 1M tokens input
    * 하루 1,000회 대화 가정
  - Pinecone Vector DB: $70/월
    * Starter: 100K 벡터
  - Embedding: $20/월 (text-embedding-3-small)

비용 절감 전략:
  - 응답 캐싱 (Redis)
  - 토큰 제한 (컨텍스트 최적화)
  - 프리미엄 사용자 우선 제공

총 추가 비용: 약 $190/월
총 비용: $230-240/월
```

### 🎯 Phase 3 목표 지표
- DAU: 1,500명
- MAU: 7,000명
- AI 챗봇 사용: 월 10,000회
- 프리미엄 구독: 200명 (월 78만원)
- 광고 수익: 월 100만원
- 총 수익: 월 178만원

---

## 💰 수익 모델 (Phase별)

### Phase 1: 광고 (MVP 출시 즉시)
```
Google AdSense
- 정보 페이지 배너 광고
- 리스트 중간 네이티브 광고
- 게시글 사이 인피드 광고

예상 수익:
- DAU 100명: 월 5-10만원
- DAU 500명: 월 20-40만원
- DAU 1,000명: 월 50-100만원
```

### Phase 2: 프리미엄 구독 (3개월 후)
```
무료 플랜:
- 모든 기본 기능
- 실시간 위치 공유 (시간 제한: 2시간)
- 광고 표시

프리미엄 (월 3,900원):
- 광고 제거
- 실시간 위치 공유 무제한
- 오프라인 지도 다운로드 (3개)
- 상세 통계 (고도 차트, 페이스 분석)
- 프리미엄 배지
- 우선 고객 지원

목표:
- 50명 구독 시 월 19.5만원
- 100명 구독 시 월 39만원
```

### Phase 3: AI 프리미엄+ (6개월 후)
```
무료 플랜:
- 기본 기능
- AI 챗봇 (하루 3회)

프리미엄 (월 3,900원):
- Phase 2 모든 기능
- AI 챗봇 (하루 10회)

프리미엄+ (월 7,900원):
- 프리미엄 모든 기능
- AI 챗봇 무제한
- 개인화 추천 고급 분석
- 이미지 AI 분석
- 전문가 상담 (월 1회)

목표:
- 프리미엄: 150명 → 월 58.5만원
- 프리미엄+: 50명 → 월 39.5만원
- 광고: 월 100만원
- 총: 월 198만원
```

### Phase 4: B2B/제휴 (9개월 후)
- 지자체 관광 프로모션: 건당 30-100만원
- 보험사 안전 산행 데이터 제공: 월 50-100만원
- 등산용품 브랜드 제휴: 월 20-50만원
- 기업 단체 등산 패키지: 건당 10-30만원

---

## 👥 타겟 사용자

### Primary
- **등산 초보자** (20-40대)
  - 어디로 갈지 모르는 사람
  - 안전한 코스 찾는 사람
  
- **주말 등산러** (30-60대)
  - 정기적으로 산행하는 사람
  - 새로운 코스 탐색하는 사람

### Secondary
- **등산 커뮤니티 활동가**
  - 후기/사진 공유하고 싶은 사람
  - 동행 찾는 사람
  
- **데이터 기록형 사용자**
  - 본인의 산행 데이터 관리하고 싶은 사람
  - 목표 달성 추적하는 사람

### Tertiary (Phase 2+)
- **안전 중시형 등산러**
  - 실시간 위치 공유로 안심하고 싶은 사람
  - SOS 기능 필요한 사람
  
- **AI 기반 추천 선호자** (Phase 3)
  - 개인화된 등산로 추천 원하는 사람
  - 등산 전문 지식 배우고 싶은 사람

---

## 📊 핵심 지표 (KPI)

### Phase 1: MVP 출시 1개월
- [ ] 방문자: 1,000명
- [ ] 회원가입: 200명
- [ ] DAU: 50명
- [ ] 등록 산행 기록: 100건
- [ ] 커뮤니티 게시글: 50개

### Phase 1: 3개월 후
- [ ] 총 방문자: 10,000명
- [ ] 회원: 2,000명
- [ ] DAU: 300명
- [ ] MAU: 1,500명
- [ ] 광고 수익: 월 30만원

### Phase 2: 6개월 후
- [ ] 총 방문자: 50,000명
- [ ] 회원: 10,000명
- [ ] DAU: 500명
- [ ] 실시간 위치 공유: 월 200건
- [ ] 프리미엄 구독: 50명
- [ ] 총 수익: 월 70만원

### Phase 3: 9개월 후
- [ ] 총 방문자: 200,000명
- [ ] 회원: 50,000명
- [ ] DAU: 1,500명
- [ ] AI 챗봇 사용: 월 10,000회
- [ ] 프리미엄 구독: 200명
- [ ] 총 수익: 월 198만원

---

## 🎨 브랜드 아이덴티티

### 핵심 가치
1. **신뢰성**: 정확한 공공데이터 기반 정보
2. **안전**: 사용자 안전을 최우선으로
3. **커뮤니티**: 등산러들의 따뜻한 소통 공간
4. **성장**: 개인의 등산 여정을 함께 기록
5. **혁신**: AI 기술로 더 나은 등산 경험 제공 (Phase 3)

### 톤앤매너
- 친근하지만 전문적인
- 안전을 강조하되 겁주지 않는
- 자연과 건강을 존중하는
- 기술을 활용하되 인간적인 (AI 기능)

### UI/UX 방향
- **깔끔하고 직관적**: 정보 찾기 쉽게
- **자연 친화적 색상**: 녹색 계열
- **모바일 최적화**: 터치 타겟 충분히 크게
- **빠른 로딩**: 이미지 최적화
- **접근성**: 고령 사용자 고려 (큰 글자, 명확한 버튼)

---

## 🚀 상세 개발 로드맵

## Phase 1: MVP (6-8주)

### Week 1-2: 환경 설정 & 데이터
**배포 환경 준비**
- [ ] Supabase 프로젝트 생성
- [ ] Vercel 계정 생성
- [ ] Kakao Developers 앱 등록
- [ ] 환경변수 설정

**개발 환경**
- [ ] Next.js 프로젝트 초기 설정
- [ ] Tailwind CSS, shadcn/ui 설정
- [ ] Supabase 클라이언트 설정

**데이터 준비**
- [ ] 공공데이터 API 신청
- [ ] 크롤링 스크립트 작성
- [ ] DB 스키마 생성
- [ ] 샘플 데이터 삽입

### Week 3-4: 등산로 정보 기능
- [ ] 등산로 리스트 페이지
- [ ] 검색/필터링 UI
- [ ] 상세 페이지
- [ ] Kakao Map 통합
- [ ] 즐겨찾기 기능

### Week 5: GPS 기록 기능
- [ ] 위치 권한 처리
- [ ] 실시간 GPS 추적
- [ ] IndexedDB 로컬 저장
- [ ] 경로 시각화
- [ ] 통계 계산

### Week 6: 커뮤니티 기능
- [ ] 회원가입/로그인 (Supabase Auth)
- [ ] 게시판 CRUD
- [ ] 이미지 업로드 (Storage)
- [ ] 댓글 시스템
- [ ] 좋아요 기능

### Week 7: 마이페이지 & 통합
- [ ] 프로필 관리
- [ ] 대시보드 (산행 통계)
- [ ] 내 산행 기록
- [ ] 설정 페이지
- [ ] 전체 통합 테스트

### Week 8: 배포 & 최적화
- [ ] PWA 설정
- [ ] SEO 최적화
- [ ] 성능 개선 (이미지 최적화)
- [ ] Vercel 배포
- [ ] 베타 테스트
- [ ] 정식 런칭

---

## Phase 2: 실시간 & 안전 (3-4개월)

### Month 1: WebSocket 서버
**배포 환경 준비 (먼저!)**
- [ ] Railway 계정 생성
- [ ] Node.js WebSocket 서버 배포
- [ ] Redis 인스턴스 생성 (Upstash)
- [ ] 환경변수 설정

**개발**
- [ ] WebSocket 서버 개발
- [ ] 클라이언트 연결 로직
- [ ] 위치 데이터 송수신
- [ ] Redis 캐싱 구현

### Month 2: 실시간 위치 공유
- [ ] 그룹 생성/참가 UI
- [ ] 실시간 지도 업데이트
- [ ] 거리/시간 계산
- [ ] 개인정보 보호 설정

### Month 3: SOS & 알림
**배포 환경 준비 (먼저!)**
- [ ] Firebase 프로젝트 생성
- [ ] FCM 설정
- [ ] Supabase Edge Functions 설정

**개발**
- [ ] SOS 버튼 UI/UX
- [ ] 긴급 연락처 설정
- [ ] 문자 발송 로직
- [ ] FCM 푸시 알림
- [ ] 날씨 API 연동

### Month 4: 오프라인 지도 & 테스트
- [ ] 오프라인 지도 다운로드
- [ ] IndexedDB 저장
- [ ] 오프라인 GPS 트래킹
- [ ] 프리미엄 구독 시스템
- [ ] 통합 테스트
- [ ] 배포 및 모니터링

---

## Phase 3: AI & 개인화 (2-3개월)

### Month 1: RAG 시스템 구축
**배포 환경 준비 (먼저!)**
- [ ] OpenAI API 키 발급
- [ ] Pinecone 계정 생성
- [ ] Vector DB 인덱스 생성
- [ ] 비용 제한 설정 (중요!)

**개발**
- [ ] 등산로 데이터 임베딩
- [ ] 커뮤니티 게시글 크롤링
- [ ] Pinecone 업로드
- [ ] 검색 테스트

### Month 2: AI 챗봇
- [ ] 챗봇 UI/UX 디자인
- [ ] OpenAI API 통합
- [ ] RAG 파이프라인 구현
- [ ] 프롬프트 엔지니어링
- [ ] 응답 캐싱 (Redis)
- [ ] 토큰 사용량 모니터링

### Month 3: 개인화 추천
- [ ] 사용자 산행 기록 분석
- [ ] 추천 알고리즘 개발
- [ ] 추천 UI 구현
- [ ] A/B 테스트
- [ ] 프리미엄+ 티어 출시

---

## ⚠️ 리스크 관리

### 기술적 리스크
| 리스크 | 확률 | 영향 | 대응 방안 |
|--------|------|------|-----------|
| GPS 정확도 문제 | 중 | 중 | 여러 측정값 평균, 오차 필터링 |
| 모바일 브라우저 호환성 | 저 | 중 | 주요 브라우저 테스트, Polyfill |
| Supabase 무료 용량 초과 | 중 | 고 | 사용량 모니터링, 이미지 압축 |
| WebSocket 연결 불안정 | 중 | 중 | 재연결 로직, Fallback HTTP |
| OpenAI API 비용 폭탄 | 높 | 고 | 토큰 제한, 캐싱, 프리미엄 전용 |

### 운영 리스크
| 리스크 | 확률 | 영향 | 대응 방안 |
|--------|------|------|-----------|
| 저작권 문제 (사용자 업로드) | 중 | 고 | 신고 시스템, 이용약관 명시 |
| 허위 정보 유포 | 저 | 중 | 신고 기능, 관리자 검토 |
| 개인정보 유출 | 저 | 고 | 최소 정보 수집, 암호화 |
| SOS 오작동 책임 | 중 | 고 | 면책 조항, 119 직접 연동 금지 |
| AI 부적절 응답 | 중 | 중 | 콘텐츠 필터링, 사람 검토 |

### 법적 리스크
| 리스크 | 확률 | 영향 | 대응 방안 |
|--------|------|------|-----------|
| 개인정보보호법 위반 | 중 | 고 | 명시적 동의, 최소 수집 |
| 위치정보법 위반 | 중 | 고 | 실시간 저장 금지, 동의 철저 |
| 의료법 위반 (건강 정보) | 저 | 중 | 일반 정보만 제공, 의료 조언 금지 |

---

## 📈 비용 분석 (Phase별)

### Phase 1: MVP
```
서비스              월 비용      비고
----------------------------------------
Vercel              $0          Hobby 플랜
Supabase            $0          Free 플랜 (500MB)
Kakao Map           $0          무료 (일 30만건)
Google AdSense      $0          무료
----------------------------------------
총계                $0/월
```

### Phase 2: 실시간 & 안전
```
서비스              월 비용      비고
----------------------------------------
Vercel              $0          
Supabase            $0          (또는 $25 Pro)
Railway             $5          WebSocket 서버
Redis (Upstash)     $10         위치 캐싱
Firebase FCM        $0          푸시 알림
Firebase Functions  $25         Edge Functions
----------------------------------------
총계                $40-65/월
```

### Phase 3: AI & 개인화
```
서비스              월 비용      비고
----------------------------------------
Phase 1 + 2         $40-65      기존 인프라
OpenAI API          $100        GPT-4 Turbo
Pinecone            $70         Vector DB
Embedding API       $20         text-embedding-3
Redis (확장)        $20         응답 캐싱
----------------------------------------
총계                $250-275/월

비용 절감 후:       $150-180/월 (캐싱, 제한)
```

### 수익성 분석
```
Phase 3 기준 (9개월 후)
----------------------------------------
수익:
- 광고              월 100만원
- 프리미엄          월 60만원
- 프리미엄+         월 40만원
총 수익            월 200만원

비용:
- 인프라            월 25만원
총 비용            월 25만원

순이익             월 175만원
----------------------------------------
ROI                700%
```

---

## 🎯 성공 지표 & 마일스톤

### Phase 1 완료 조건
- [ ] 등산로 1,000개 이상 등록
- [ ] 회원 200명
- [ ] 산행 기록 100건
- [ ] 커뮤니티 게시글 50개
- [ ] DAU 50명
- [ ] 모바일 반응형 완성도 100%

### Phase 2 완료 조건
- [ ] 실시간 위치 공유 안정성 99%
- [ ] SOS 기능 오발송율 5% 이하
- [ ] 푸시 알림 도달률 95%
- [ ] 프리미엄 구독자 50명
- [ ] DAU 500명

### Phase 3 완료 조건
- [ ] AI 챗봇 만족도 4.0/5.0 이상
- [ ] 추천 정확도 70% 이상
- [ ] 프리미엄+ 구독자 50명
- [ ] 월 순이익 100만원 달성

---

## 📄 관련 문서

### 기본 문서 (Phase 1)
- [기술 명세서](./02_technical_specification.md)
- [데이터베이스 설계](./03_database_schema.md)
- [API 명세](./04_api_specification.md)
- [화면 설계서](./05_screen_design.md)
- [개발 가이드](./06_development_guide.md)
- [배포 가이드](./07_deployment_guide.md)

### Phase 2 & 3 문서
- [Phase 2 배포 가이드](./08_phase2_deployment.md)
- [Phase 3 AI 배포 가이드](./09_phase3_ai_deployment.md)
- [배포 체크리스트](./10_deployment_checklist.md)
- [Phase별 퀵스타트](./11_quickstart_guide.md)

---

## 🚀 시작하기

### Phase 1 시작
1. [개발 가이드](./06_development_guide.md) 읽기
2. 개발 환경 설정
3. Supabase + Vercel 설정
4. 개발 시작

### Phase 2 시작
1. Phase 1 완료 확인
2. [Phase 2 배포 가이드](./08_phase2_deployment.md) 읽기
3. Railway + Firebase 설정
4. WebSocket 서버 배포

### Phase 3 시작
1. Phase 2 완료 확인
2. [Phase 3 AI 배포 가이드](./09_phase3_ai_deployment.md) 읽기
3. OpenAI + Pinecone 설정
4. 비용 제한 설정 (중요!)

---

**마지막 업데이트**: 2024년 11월 18일  
**버전**: 2.0.0  
**상태**: Phase 1-3 계획 완료
